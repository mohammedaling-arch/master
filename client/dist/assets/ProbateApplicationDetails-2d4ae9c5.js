import { c as Ae, r as p, j as e, a as b, C as M, i as ae, m as P, e as Ne, A as Le, X as Re } from "./index-a367903a.js"; import { f as X, U as Z } from "./dateUtils-0cf2816c.js"; import { D as Ee, C as pe, U as _e, a as qe, e as Ue } from "./SupportTickets-1bec5e21.js"; import { C as $e, I as Be, P as Pe, b as Oe, a as He } from "./ImageCapture-db49fbfc.js"; import { a as Ge } from "./menu-52d4f898.js"; import { F as xe } from "./file-text-05ff1bfe.js"; import { C as he } from "./credit-card-7df9ba98.js"; import { A as Ve } from "./arrow-left-87f00f60.js"; import { B as Ke } from "./briefcase-8ab53315.js"; import { T as K } from "./trash-2-9ff1ad5f.js"; import { S as Xe } from "./shield-1033dda0.js"; import { D as Ce } from "./download-8bb8051d.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye = [["path", { d: "M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8", key: "5wwlr5" }], ["path", { d: "M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z", key: "r6nss1" }]], Qe = Ae("house", Ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je = [["path", { d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z", key: "1a8usu" }], ["path", { d: "m15 5 4 4", key: "1mk7zo" }]], ne = Ae("pencil", Je), ct = ({ user: s, isMobile: m, onSelect: h, filterStatus: C, title: v, staffMode: n = !1 }) => { const [$, I] = p.useState([]), [O, T] = p.useState(!0); p.useEffect(() => { (async () => { try { const y = n ? "/staff/probate/all" : "/user/probate-applications"; let f = (await b.get(y)).data; if (C) { const _ = C.split(",").map(r => r.trim()); f = f.filter(r => _.includes(r.status)) } I(f) } catch (y) { console.error("[ProbateApplicationsList] Failed to fetch probate applications:", y), I([]) } finally { T(!1) } })() }, [C, n]); const Y = a => { switch (a) { case "approved": case "completed": return "bg-green-100 text-green-800"; case "under_processing": return "bg-blue-100 text-blue-800"; case "rejected": return "bg-red-100 text-red-800"; case "pending_registrar": case "pending_judge": return "bg-yellow-100 text-yellow-800"; default: return "bg-gray-100 text-gray-800" } }, z = [{ key: "id", label: "ID", sortable: !0, render: a => e.jsxs("span", { style: { fontWeight: "bold" }, children: ["PRB-", a] }) }, { key: "deceased_name", label: "Deceased Name", sortable: !0 }, { key: "created_at", label: "Date Filed", sortable: !0, render: a => X(a) }, { key: "applicant_first_name", label: "Next of Kin", sortable: !0, render: (a, y) => e.jsxs("div", { style: { display: "flex", flexDirection: "column" }, children: [e.jsxs("span", { style: { fontWeight: "bold", color: "rgb\(18 37 74\)" }, children: [a, " ", y.applicant_surname] }), e.jsx("span", { style: { fontSize: "11px", color: "#778eaeff" }, children: y.applicant_relationship || y.relationship_to_nok || y.applicant_email })] }) }, { key: "status", label: "Status", sortable: !0, render: a => e.jsxs("span", { className: `px-2 py-1 rounded-full text-[9px] font-bold uppercase tracking-wide ${Y(a)}`, style: { display: "inline-flex", alignItems: "center", gap: "4px" }, children: [a === "approved" && e.jsx(M, { size: 10 }), a === "rejected" && e.jsx(ae, { size: 10 }), a.startsWith("pending") && e.jsx(pe, { size: 10 }), a.replace("_", " ")] }) }, { key: "approval", label: "Approval", sortable: !0, render: a => e.jsx("span", { style: { fontSize: "11px", fontWeight: "bold", color: a === "approved" || a === "Approved" ? "#059669" : a === "rejected" || a === "Rejected" ? "#ef4444" : "#6b7280" }, children: a ? a.charAt(0).toUpperCase() + a.slice(1) : "Pending" }) }, { key: "approval_date", label: "Approval Date", sortable: !0, render: a => X(a) }]; return e.jsxs("div", { className: "glass-card", style: { background: "white", padding: m ? "1rem" : "2rem", borderRadius: "16px" }, children: [e.jsx("h2", { style: { fontSize: "1.5rem", marginBottom: "1.5rem", color: "#1f2937" }, children: v || "Probate Applications" }), e.jsx(Ee, { columns: z, data: $, loading: O, isMobile: m, onRowClick: a => h(a.id), searchPlaceholder: "Search by name or ID..." })] }) }, pt = ({ user: s, isMobile: m = !1, onComplete: h = null, isStaffFiling: C = !1 }) => { const [v, n] = p.useState(1), [$, I] = p.useState(!1), [O, T] = p.useState(!1), [Y, z] = p.useState(!1), [a, y] = p.useState({ deceasedName: "", dateOfDeath: "", homeAddress: "", deathLocation: "", occupation: "", employerName: "", employerAddress: "" }), [u, f] = p.useState({ fullName: (s == null ? void 0 : s.full_name) || "", email: (s == null ? void 0 : s.email) || "", phone: (s == null ? void 0 : s.phone) || "", relationshipToDeceased: "", profilePic: null }), [_, r] = p.useState({ deathCertificate: null, introLetter: null }), [o, ee] = p.useState([]), [H, me] = p.useState(0); p.useEffect(() => { (async () => { try { const g = await b.get("/public/probate-config"); ee(g.data); const R = g.data.filter(w => w.type === "item").reduce((w, D) => w + Number(D.document_fee), 0); me(R > 0 ? R : 15e3) } catch (g) { console.error("Failed to load config", g) } })() }, []); const te = (l, g) => { g.target.files[0] && r(F => ({ ...F, [l]: g.target.files[0] })) }, ie = () => { if (!a.deceasedName || !a.dateOfDeath || !a.homeAddress || !a.occupation) { alert("Please fill all required fields (*) in Step 1."); return } n(2) }, Q = async l => { var g, F; I(!0), T(!1); try { const R = { deceasedName: a.deceasedName, dateOfDeath: a.dateOfDeath, homeAddress: a.homeAddress, deathLocation: a.deathLocation, occupation: a.occupation, employerName: a.employerName, employerAddress: a.employerAddress, relationshipToNok: u.relationshipToDeceased, applicantId: s.is_applicant_manager_user ? s.id : null }, D = (await b.post("/public/probate", R)).data.id, J = []; if (_.deathCertificate) { const B = new FormData; B.append("file", _.deathCertificate), B.append("documentName", "Death Certificate"), J.push(b.post(`/public/probate/${D}/documents`, B, { headers: { "Content-Type": "multipart/form-data" } })) } if (_.introLetter) { const B = new FormData; B.append("file", _.introLetter), B.append("documentName", "Introduction Letter"), J.push(b.post(`/public/probate/${D}/documents`, B, { headers: { "Content-Type": "multipart/form-data" } })) } await Promise.all(J), await b.post("/payments", { user_id: C ? null : s.id, applicant_id: s.is_applicant_manager_user ? s.id : null, probate_application_id: D, item_paid: "Probate Application Fee", amount: H, transaction_id: l.reference, payment_status: "completed" }), n(5) } catch (R) { console.error("Probate filing error:", R), alert(`Filing Failed: ${((F = (g = R.response) == null ? void 0 : g.data) == null ? void 0 : F.error) || R.message}`) } finally { I(!1) } }, se = ["Merchant", "Trader", "Civil Servant", "Public Servant", "Student", "Unemployed"], G = ["Civil Servant", "Public Servant"].includes(a.occupation); return e.jsxs("div", { className: "glass-card", style: { background: "rgb\(18 37 74\)", border: "none", color: "white", padding: m ? "1rem" : "2.5rem" }, children: [e.jsx("div", { style: { display: "flex", justifyContent: "space-between", marginBottom: "3rem", borderBottom: "1px solid #334155", paddingBottom: "1rem", overflowX: m ? "auto" : "visible", gap: "1rem" }, children: ["Deceased Info", "Next of Kin", "Documents", "Payment"].map((l, g) => e.jsxs("div", { style: { color: v === g + 1 ? "#2ecc71" : "#778eaeff", fontWeight: v === g + 1 ? "bold" : "normal", borderBottom: v === g + 1 ? "2px solid #2ecc71" : "none", paddingBottom: "0.5rem", whiteSpace: "nowrap", fontSize: m ? "12px" : "14px", cursor: v > g + 1 ? "pointer" : "default" }, onClick: () => v > g + 1 && n(g + 1), children: [e.jsxs("span", { style: { marginRight: "4px", opacity: .5 }, children: [g + 1, "."] }), " ", l] }, l)) }), v === 1 && e.jsxs(P.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, children: [e.jsx("h3", { style: { marginBottom: "0.5rem" }, children: "Deceased Person Details" }), e.jsx("p", { style: { color: "#94a3b8", fontSize: "14px", marginBottom: "2rem" }, children: "Please provide the official details of the deceased individual." }), e.jsxs("div", { style: { display: "grid", gap: "1.5rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Full Name *" }), e.jsx("input", { type: "text", style: N, value: a.deceasedName, onChange: l => y({ ...a, deceasedName: l.target.value }), placeholder: "e.g. Alhaji Ibrahim Mohammed" })] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: m ? "1fr" : "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Date of Death *" }), e.jsx("input", { type: "date", style: N, value: a.dateOfDeath, onChange: l => y({ ...a, dateOfDeath: l.target.value }) })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Occupation *" }), e.jsxs("select", { style: N, value: a.occupation, onChange: l => y({ ...a, occupation: l.target.value }), children: [e.jsx("option", { value: "", children: "Select Occupation..." }), se.map(l => e.jsx("option", { value: l, children: l }, l))] })] })] }), G && e.jsxs("div", { style: { display: "grid", gridTemplateColumns: m ? "1fr" : "1fr 1fr", gap: "1rem", background: "rgba(15,23,42,0.3)", padding: "1rem", borderRadius: "8px" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Employer Name" }), e.jsx("input", { type: "text", style: N, value: a.employerName, onChange: l => y({ ...a, employerName: l.target.value }), placeholder: "Organization / Company" })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Employer Address" }), e.jsx("input", { type: "text", style: N, value: a.employerAddress, onChange: l => y({ ...a, employerAddress: l.target.value }), placeholder: "Office Location" })] })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Home Address *" }), e.jsx("textarea", { style: { ...N, height: "80px" }, value: a.homeAddress, onChange: l => y({ ...a, homeAddress: l.target.value }), placeholder: "Permanent Residential address" })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Place of Death Address" }), e.jsx("textarea", { style: { ...N, height: "80px" }, value: a.deathLocation, onChange: l => y({ ...a, deathLocation: l.target.value }), placeholder: "Hospital or Logic address where death occurred" })] })] }), e.jsxs("button", { onClick: ie, className: "btn btn-primary", style: de(m), children: ["Continue ", e.jsx(Ge, { size: 18 })] })] }), v === 2 && e.jsxs(P.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, children: [e.jsx("h3", { style: { marginBottom: "0.5rem" }, children: "Next of Kin (Applicant)" }), e.jsx("p", { style: { color: "#94a3b8", fontSize: "14px", marginBottom: "2rem" }, children: "Review your details as the primary applicant/Next of Kin." }), e.jsxs("div", { style: { display: "grid", gap: "1.5rem" }, children: [e.jsxs("div", { style: { display: "flex", alignItems: "center", gap: "1.5rem", marginBottom: "1rem" }, children: [e.jsx("div", { style: { width: "80px", height: "80px", borderRadius: "50%", background: "#334155", display: "flex", alignItems: "center", justifyContent: "center", overflow: "hidden" }, children: s != null && s.profile_pic || u.profilePic ? e.jsx("img", { src: u.profilePic ? URL.createObjectURL(u.profilePic) : s.profile_pic || "/assets/avatar-placeholder.png", alt: "Profile", style: { width: "100%", height: "100%", objectFit: "cover" } }) : e.jsx(Z, { size: 40, color: "#94a3b8" }) }), e.jsxs("div", { children: [e.jsxs("button", { type: "button", onClick: () => z(!0), className: "btn", style: { background: "#3b82f6", border: "none", color: "white", cursor: "pointer", fontSize: "13px", padding: "8px 16px", borderRadius: "8px" }, children: [e.jsx($e, { size: 14, style: { marginRight: "6px" } }), " ", u.profilePic ? "Change Photo" : "Take/Upload Photo"] }), Y && e.jsx(Be, { onClose: () => z(!1), onImageCaptured: l => f({ ...u, profilePic: l }), title: "Next of Kin Photo" }), e.jsx("p", { style: { fontSize: "12px", color: "#778eaeff", marginTop: "4px" }, children: "Passport photograph required if not on profile." })] })] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: m ? "1fr" : "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Full Name" }), e.jsx("input", { type: "text", style: N, value: u.fullName, onChange: l => f({ ...u, fullName: l.target.value }) })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Relationship to Deceased *" }), e.jsx("input", { type: "text", style: N, value: u.relationshipToDeceased, onChange: l => f({ ...u, relationshipToDeceased: l.target.value }), placeholder: "e.g. Son, Daughter, Wife, Brother" })] })] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: m ? "1fr" : "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Email" }), e.jsx("input", { type: "email", style: { ...N, opacity: .7 }, value: u.email, readOnly: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: A, children: "Phone Number" }), e.jsx("input", { type: "tel", style: N, value: u.phone, onChange: l => f({ ...u, phone: l.target.value }) })] })] })] }), e.jsxs("div", { style: ke(m), children: [e.jsx("button", { onClick: () => n(1), className: "btn", style: ce, children: "Back" }), e.jsx("button", { onClick: () => n(3), className: "btn btn-primary", style: de(!1), children: "Next: Documents" })] })] }), v === 3 && e.jsxs(P.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, children: [e.jsx("h3", { style: { marginBottom: "0.5rem" }, children: "Supporting Documentation" }), e.jsx("p", { style: { color: "#94a3b8", fontSize: "14px", marginBottom: "2rem" }, children: "Upload scan of required/optional legal documents." }), e.jsxs("div", { style: { display: "grid", gap: "1.5rem" }, children: [e.jsxs("div", { style: ze(m), children: [e.jsx("div", { style: we("#2ecc71"), children: e.jsx(xe, { size: 24, color: "#2ecc71" }) }), e.jsxs("div", { style: { flex: 1 }, children: [e.jsxs("p", { style: { fontWeight: "600", color: "#f1f5f9" }, children: ["Death Certificate ", e.jsx("span", { style: { color: "#ef4444" }, children: "*" })] }), e.jsx("p", { style: { fontSize: "12px", color: "#94a3b8" }, children: _.deathCertificate ? _.deathCertificate.name : "Required proof of death" })] }), e.jsxs("label", { className: "btn", style: De, children: [e.jsx(_e, { size: 16 }), " ", _.deathCertificate ? "Change" : "Upload", e.jsx("input", { type: "file", style: { display: "none" }, onChange: l => te("deathCertificate", l) })] })] }), e.jsxs("div", { style: ze(m), children: [e.jsx("div", { style: we("#3b82f6"), children: e.jsx(xe, { size: 24, color: "#3b82f6" }) }), e.jsxs("div", { style: { flex: 1 }, children: [e.jsx("p", { style: { fontWeight: "600", color: "#f1f5f9" }, children: "Introduction Letter" }), e.jsx("p", { style: { fontSize: "12px", color: "#94a3b8" }, children: _.introLetter ? _.introLetter.name : "Optional (Required if Employee)" })] }), e.jsxs("label", { className: "btn", style: { ...De, background: "#334155" }, children: [e.jsx(_e, { size: 16 }), " ", _.introLetter ? "Change" : "Upload", e.jsx("input", { type: "file", style: { display: "none" }, onChange: l => te("introLetter", l) })] })] })] }), e.jsxs("div", { style: ke(m), children: [e.jsx("button", { onClick: () => n(2), className: "btn", style: ce, children: "Back" }), e.jsx("button", { onClick: () => { if (!_.deathCertificate) { alert("Death Certificate is required."); return } n(4) }, className: "btn btn-primary", style: de(!1), children: "Next: Payment" })] })] }), v === 4 && e.jsxs(P.div, { initial: { opacity: 0, scale: .95 }, animate: { opacity: 1, scale: 1 }, style: { textAlign: "center" }, children: [e.jsx("div", { style: { padding: m ? "2rem 1rem" : "4rem 2rem", background: "#0f172a", borderRadius: "24px", border: "1px solid #334155" }, children: O ? e.jsx(Pe, { amount: H, user: s, itemDescription: "Probate Application Fee", onSuccess: Q, onCancel: () => T(!1) }) : e.jsxs(e.Fragment, { children: [e.jsx("div", { style: { width: "80px", height: "80px", background: "rgba(46, 204, 113, 0.1)", borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center", margin: "0 auto 2rem" }, children: e.jsx(he, { size: 40, color: "#2ecc71" }) }), e.jsx("h2", { style: { color: "white" }, children: "Application Fee" }), e.jsxs("div", { style: { margin: "1.5rem 0" }, children: [e.jsx("span", { style: { fontSize: "1.5rem", color: "#94a3b8", verticalAlign: "top", marginTop: "8px", display: "inline-block" }, children: "₦" }), e.jsx("span", { style: { fontSize: m ? "3rem" : "4rem", fontWeight: "800", color: "#2ecc71" }, children: H.toLocaleString() })] }), e.jsx("p", { style: { color: "#94a3b8", maxWidth: "400px", margin: "0 auto 3rem" }, children: "Standard probate application processing fee as per state regulations." }), e.jsx("button", { onClick: () => T(!0), disabled: $, className: "btn btn-primary", style: { background: "#27ae60", padding: "1rem 3rem", fontSize: "16px", width: m ? "100%" : "auto", display: "inline-flex", alignItems: "center", justifyContent: "center", gap: "0.5rem" }, children: $ ? e.jsx(Ne, { className: "animate-spin" }) : "Proceed to Payment Gateways" })] }) }), !O && e.jsx("button", { onClick: () => n(3), className: "btn", style: { ...ce, marginTop: "2rem", border: "none" }, children: "Back to Documents" })] }), v === 5 && e.jsxs(P.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, style: { textAlign: "center", padding: "4rem 2rem" }, children: [e.jsx("div", { style: { width: "80px", height: "80px", background: "rgba(46, 204, 113, 0.1)", borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center", margin: "0 auto 2rem" }, children: e.jsx(M, { size: 40, color: "#2ecc71" }) }), e.jsx("h2", { style: { color: "white", marginBottom: "1rem" }, children: "Application Submitted!" }), e.jsxs("p", { style: { color: "#94a3b8", marginBottom: "2.5rem" }, children: ["Your probate application for ", e.jsx("strong", { children: a.deceasedName }), " has been received by the Probate Registry.", e.jsx("br", {}), "Fee of ₦", H.toLocaleString(), " has been recorded."] }), e.jsx("button", { onClick: () => { h ? h() : window.location.href = C ? "/staff/pd" : "/probate" }, className: "btn btn-primary", style: { background: "#2ecc71", padding: "1rem 3rem" }, children: "Return to Dashboard" })] })] }) }, A = { display: "block", marginBottom: "8px", color: "#94a3b8", fontSize: "13px", fontWeight: "500" }, N = { width: "100%", padding: "12px 16px", borderRadius: "10px", border: "1px solid #334155", background: "#0f172a", color: "white", outline: "none", fontSize: "15px" }, de = s => ({ background: "#2ecc71", marginTop: "0", width: s ? "100%" : "200px", display: "flex", alignItems: "center", justifyContent: "center", gap: "0.5rem", height: "48px" }), ce = { background: "transparent", color: "#94a3b8", border: "1px solid #334155", height: "48px", padding: "0 2rem" }, ke = s => ({ display: "flex", flexDirection: s ? "column" : "row", gap: "1rem", marginTop: "2.5rem", justifyContent: "space-between" }), ze = s => ({ display: "flex", flexDirection: s ? "column" : "row", alignItems: "center", gap: "1.5rem", padding: "1.5rem", border: "1px solid #334155", borderRadius: "16px", background: "rgba(15, 23, 42, 0.3)", textAlign: s ? "center" : "left" }), we = s => ({ width: "48px", height: "48px", background: `${s}1a`, borderRadius: "12px", display: "flex", alignItems: "center", justifyContent: "center" }), De = { background: "#3b82f6", color: "white", cursor: "pointer", fontSize: "13px", fontWeight: "bold", display: "flex", alignItems: "center", gap: "8px", padding: "8px 16px" }, q = ({ title: s, children: m, onSave: h, onClose: C, saving: v }) => e.jsx(P.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, style: { position: "fixed", inset: 0, background: "rgba(0,0,0,0.5)", zIndex: 100, display: "flex", alignItems: "center", justifyContent: "center", padding: "1rem" }, onClick: C, children: e.jsxs(P.div, { initial: { scale: .9, opacity: 0 }, animate: { scale: 1, opacity: 1 }, exit: { scale: .9, opacity: 0 }, style: { background: "white", padding: "2rem", borderRadius: "16px", maxWidth: "600px", width: "100%", position: "relative", maxHeight: "90vh", overflowY: "auto" }, onClick: n => n.stopPropagation(), children: [e.jsxs("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: "1.5rem" }, children: [e.jsx("h3", { style: { fontSize: "1.25rem", fontWeight: "bold", margin: 0 }, children: s }), e.jsx("button", { onClick: C, style: { background: "none", border: "none", cursor: "pointer" }, children: e.jsx(Re, { size: 20 }) })] }), e.jsxs("form", { onSubmit: h, children: [m, e.jsxs("div", { style: { display: "flex", gap: "1rem", marginTop: "2rem" }, children: [e.jsx("button", { type: "button", onClick: C, style: { flex: 1, padding: "0.75rem", borderRadius: "8px", border: "1px solid #e5e7eb", background: "white" }, children: "Cancel" }), e.jsx("button", { type: "submit", disabled: v, style: { flex: 1, padding: "0.75rem", borderRadius: "8px", background: "#3d2b1f", color: "white", fontWeight: "bold" }, children: v ? "Saving..." : "Save Changes" })] })] })] }) }), U = ({ title: s, icon: m, children: h, onAdd: C }) => e.jsxs("div", { style: { marginBottom: "2.5rem" }, children: [e.jsxs("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: "1.5rem" }, children: [e.jsxs("div", { style: { display: "flex", alignItems: "center", gap: "0.75rem" }, children: [e.jsx("div", { style: { padding: "0.5rem", background: "#f3f4f6", borderRadius: "8px", color: "#374151" }, children: m }), e.jsx("h3", { style: { fontSize: "1.25rem", fontWeight: "bold", color: "#111827", margin: 0 }, children: s })] }), C && e.jsxs("button", { onClick: C, style: { display: "flex", alignItems: "center", gap: "0.5rem", fontSize: "14px", color: "#3b82f6", fontWeight: "600", background: "none", border: "none", cursor: "pointer" }, children: [e.jsx(Ue, { size: 16 }), " Add New"] })] }), h, e.jsx("hr", { style: { border: "none", borderTop: "1px solid #e5e7eb", marginTop: "2.5rem" } })] }), xt = ({ applicationId: s, onBack: m, isMobile: h, user: C, staffMode: v = !1 }) => { var fe, ge, je, be, ve, Se; const [n, $] = p.useState(null), [I, O] = p.useState(!0), [T, Y] = p.useState(null), [z, a] = p.useState(!1), [y, u] = p.useState(null), [f, _] = p.useState(null), [r, o] = p.useState({}), [ee, H] = p.useState([]), [me, te] = p.useState(null), [ie, Q] = p.useState(!1), [se, G] = p.useState(!1), [l, g] = p.useState(null), [F, R] = p.useState(""), [w, D] = p.useState(null), [J, B] = p.useState(!1), L = async () => { var t, i; try { const x = v ? `/staff/probate/${s}` : `/user/probate-applications/${s}`, [j, S] = await Promise.all([b.get(x), b.get("/public/probate-config")]); $(j.data), H(S.data.filter(k => k.type === "upload")) } catch (x) { console.error("Failed to fetch application details", x), Y(((i = (t = x.response) == null ? void 0 : t.data) == null ? void 0 : i.error) || "Failed to load application details") } finally { O(!1) } }; p.useEffect(() => { L() }, [s]); const Te = t => { switch (t) { case "approved": return "bg-green-100 text-green-800"; case "rejected": return "bg-red-100 text-red-800"; case "pending_registrar": case "pending_judge": return "bg-yellow-100 text-yellow-800"; default: return "bg-gray-100 text-gray-800" } }, ue = async (t, i) => { var x, j, S; if (i) { a(!0); try { const k = new FormData; k.append("file", i), k.append("documentName", t), await b.post(`/public/probate/${s}/documents`, k, { headers: { "Content-Type": "multipart/form-data" } }), await L(), u(null), te(null); const E = (x = (await b.get(`/user/probate-applications/${s}`)).data.documents) == null ? void 0 : x.find(V => V.document_name === t); E && E.document_pay > 0 && E.pay_status === "unpaid" && D(E) } catch (k) { alert(((S = (j = k.response) == null ? void 0 : j.data) == null ? void 0 : S.error) || "Upload failed") } finally { a(!1) } } }, We = async t => { var i, x; if (w) { a(!0); try { await b.post(`/public/probate-document-payment/${w.id}`, { transaction_id: t.reference, amount: w.document_pay, payment_gateway: "paystack" }), await L(), D(null) } catch (j) { alert(((x = (i = j.response) == null ? void 0 : i.data) == null ? void 0 : x.error) || "Payment record failed") } finally { a(!1) } } }, Ie = async () => { var t, i, x, j; if (l) { a(!0); try { await b.delete(`/public/probate/documents/${l}`), await L(), G(!1), g(null) } catch (S) { R(((i = (t = S.response) == null ? void 0 : t.data) == null ? void 0 : i.error) || ((j = (x = S.response) == null ? void 0 : x.data) == null ? void 0 : j.message) || S.message || "Deletion failed"), Q(!0), G(!1) } finally { a(!1) } } }, ye = t => { g(t), G(!0) }, Fe = async t => { var i, x; t.preventDefault(), a(!0); try { await b.put(`/user/probate-applications/${s}`, r), await L(), u(null) } catch (j) { alert(((x = (i = j.response) == null ? void 0 : i.data) == null ? void 0 : x.error) || "Failed to update application") } finally { a(!1) } }, le = async (t, i) => { var j, S; i.preventDefault(), a(!0); const x = `/user/probate-applications/${s}/${t}`; try { let k = r, re = {}; if (t === "sureties" && r.picture) { const E = new FormData; Object.keys(r).forEach(V => { r[V] !== null && r[V] !== void 0 && E.append(V, r[V]) }), k = E, re = { "Content-Type": "multipart/form-data" } } console.log(`[FRONTEND SAVE] Type: ${t}, Data:`, k), f ? await b.put(`${x}/${f.id}`, k, { headers: re }) : await b.post(x, k, { headers: re }), await L(), u(null), _(null) } catch (k) { alert(((S = (j = k.response) == null ? void 0 : j.data) == null ? void 0 : S.error) || `Failed to save ${t}`) } finally { a(!1) } }, oe = async (t, i) => { var x, j; if (window.confirm(`Are you sure you want to delete this ${t.slice(0, -1)}?`)) try { await b.delete(`/user/probate-applications/${s}/${t}/${i}`), await L() } catch (S) { alert(((j = (x = S.response) == null ? void 0 : x.data) == null ? void 0 : j.error) || "Failed to delete item") } }, W = (t, i = null) => { var x; u(t), _(i), o(t === "deceased" ? { deceased_name: n.deceased_name, date_of_death: (x = n.date_of_death) == null ? void 0 : x.split("T")[0], home_address: n.home_address, death_location_address: n.death_location_address, occupation: n.occupation, relationship_to_nok: n.relationship_to_nok, employer_name: n.employer_name, employer_address: n.employer_address } : i ? { ...i } : {}) }; return I ? e.jsxs("div", { className: "flex flex-col items-center justify-center p-20 text-gray-500", children: [e.jsx(Ne, { className: "animate-spin mb-4", size: 48 }), e.jsx("p", { children: "Loading application details..." })] }) : T ? e.jsxs("div", { className: "p-8 text-center text-red-500 bg-red-50 rounded-xl", children: [e.jsx(ae, { size: 48, className: "mx-auto mb-4" }), e.jsx("p", { children: T }), e.jsx("button", { onClick: m, className: "mt-4 px-6 py-2 bg-gray-800 text-white rounded-lg", children: "Go Back" })] }) : e.jsxs(P.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "bg-white rounded-2xl shadow-sm overflow-hidden", style: { padding: h ? "1rem" : "2rem" }, children: [e.jsxs("div", { style: { display: "flex", alignItems: "center", gap: "1rem", marginBottom: "2rem" }, children: [e.jsx("button", { onClick: m, style: { padding: "0.5rem", borderRadius: "50%", background: "#f3f4f6", border: "none", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }, children: e.jsx(Ve, { size: 20 }) }), e.jsxs("div", { children: [e.jsx("h2", { style: { fontSize: "1.5rem", fontWeight: "bold", margin: 0 }, children: "Application Details" }), e.jsxs("p", { style: { color: "#6b7280", fontSize: "14px" }, children: ["PRB-", n.id, " • Filed on ", X(n.created_at)] })] }), e.jsxs("div", { style: { marginLeft: "auto", display: "flex", flexDirection: "column", alignItems: "flex-end", gap: "0.5rem" }, children: [e.jsxs("span", { className: `px-4 py-1.5 rounded-full text-sm font-semibold uppercase tracking-wider ${Te(n.status)}`, style: { display: "inline-flex", alignItems: "center", gap: "6px" }, children: [n.status === "approved" && e.jsx(M, { size: 14 }), n.status === "rejected" && e.jsx(ae, { size: 14 }), n.status.startsWith("pending") && e.jsx(pe, { size: 14 }), n.status.replace("_", " ")] }), e.jsxs("div", { style: { display: "flex", flexDirection: "column", alignItems: "flex-end", gap: "2px" }, children: [n.acceptance && e.jsxs("div", { style: { fontSize: "11px", fontWeight: "bold" }, children: [e.jsx("span", { style: { color: "#6b7280", marginRight: "4px" }, children: "Acceptance:" }), e.jsx("span", { style: { color: n.acceptance === "Accepted" ? "#059669" : "#ef4444" }, children: n.acceptance }), n.acceptance_date && e.jsxs("span", { style: { color: "#6b7280", marginLeft: "8px" }, children: ["on ", X(n.acceptance_date)] })] }), n.approval && e.jsxs("div", { style: { fontSize: "11px", fontWeight: "bold" }, children: [e.jsx("span", { style: { color: "#6b7280", marginRight: "4px" }, children: "Approval:" }), e.jsx("span", { style: { color: n.approval === "Approved" ? "#059669" : "#ef4444" }, children: n.approval }), n.approval_date && e.jsxs("span", { style: { color: "#6b7280", marginLeft: "8px" }, children: ["on ", X(n.approval_date)] })] })] })] })] }), e.jsx(U, { title: "Deceased Details", icon: e.jsx(Z, { size: 20 }), children: e.jsxs("div", { style: { position: "relative" }, children: [e.jsxs("button", { onClick: () => W("deceased"), style: { position: "absolute", top: "-3rem", right: 0, padding: "0.5rem", borderRadius: "8px", border: "1px solid #e5e7eb", background: "white", display: "flex", alignItems: "center", gap: "0.5rem", fontSize: "12px" }, children: [e.jsx(ne, { size: 14 }), " Edit Details"] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: h ? "1fr" : "repeat(3, 1fr)", gap: "1.5rem" }, children: [e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Full Name" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.deceased_name })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Date of Death" }), e.jsx("p", { style: { fontWeight: "600" }, children: X(n.date_of_death).split(" ")[0] })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Occupation" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.occupation })] }), n.employer_name && e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 3" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Employer" }), e.jsxs("p", { style: { fontWeight: "600" }, children: [n.employer_name, " (", n.employer_address, ")"] })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 3" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Home Address" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.home_address })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 3" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Place of Death" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.death_location_address || "Not specified" })] })] })] }) }), e.jsx(U, { title: "Next of Kin Information", icon: e.jsx(Ke, { size: 20 }), children: e.jsxs("div", { style: { display: "flex", flexWrap: "wrap", gap: "2rem", alignItems: "flex-start" }, children: [e.jsx("div", { style: { position: "relative" }, children: e.jsx("div", { style: { width: "120px", height: "120px", borderRadius: "12px", background: "#f3f4f6", display: "flex", alignItems: "center", justifyContent: "center", overflow: "hidden", border: "1px solid #e5e7eb" }, children: n.applicant_profile_pic ? e.jsx("img", { src: n.applicant_profile_pic, alt: "Applicant", style: { width: "100%", height: "100%", objectFit: "cover" } }) : e.jsxs("div", { style: { textAlign: "center", padding: "10px" }, children: [e.jsx(Z, { size: 30, color: "#9ca3af" }), e.jsx("p", { style: { color: "#ef4444", fontSize: "10px", fontWeight: "bold", marginTop: "4px", lineHeight: "1.2" }, children: "PICTURE IS MANDATORY" })] }) }) }), e.jsxs("div", { style: { flex: 1, display: "grid", gridTemplateColumns: h ? "1fr" : "repeat(3, 1fr)", gap: "1.5rem" }, children: [e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 1" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Applicant Name" }), e.jsxs("p", { style: { fontWeight: "600" }, children: [n.applicant_first_name, " ", n.applicant_surname] })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 1" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Relationship" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.relationship_to_nok })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 1" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "NIN Number" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.applicant_nin })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Gender" }), e.jsx("p", { style: { fontWeight: "600", textTransform: "capitalize" }, children: n.applicant_gender })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Age" }), e.jsxs("p", { style: { fontWeight: "600" }, children: [n.applicant_age, " Years"] })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Phone" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.applicant_phone })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 2" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Email" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.applicant_email })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 3" }, children: [e.jsx("p", { style: { fontSize: "12px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Residential Address" }), e.jsx("p", { style: { fontWeight: "600" }, children: n.applicant_address })] })] })] }) }), e.jsx(U, { title: "Beneficiaries", icon: e.jsx(qe, { size: 20 }), onAdd: () => W("beneficiary"), children: ((fe = n.beneficiaries) == null ? void 0 : fe.length) > 0 ? e.jsx("div", { style: { overflowX: "auto" }, children: e.jsxs("table", { style: { width: "100%", borderCollapse: "collapse" }, children: [e.jsx("thead", { children: e.jsxs("tr", { style: { background: "#f9fafb", textAlign: "left" }, children: [e.jsx("th", { style: { padding: "0.75rem", fontSize: "12px", color: "#4b5563" }, children: "Name" }), e.jsx("th", { style: { padding: "0.75rem", fontSize: "12px", color: "#4b5563" }, children: "Relationship" }), e.jsx("th", { style: { padding: "0.75rem", fontSize: "12px", color: "#4b5563" }, children: "Age/Gender" }), e.jsx("th", { style: { padding: "0.75rem", fontSize: "12px", color: "#4b5563" }, children: "Phone" }), e.jsx("th", { style: { padding: "0.75rem", fontSize: "12px", color: "#4b5563", textAlign: "right" }, children: "Actions" })] }) }), e.jsx("tbody", { children: n.beneficiaries.map(t => e.jsxs("tr", { style: { borderBottom: "1px solid #f3f4f6" }, children: [e.jsx("td", { style: { padding: "0.75rem" }, children: t.name }), e.jsx("td", { style: { padding: "0.75rem" }, children: t.relationship }), e.jsxs("td", { style: { padding: "0.75rem" }, children: [t.age, "Y • ", t.gender] }), e.jsx("td", { style: { padding: "0.75rem" }, children: t.phone || "N/A" }), e.jsxs("td", { style: { padding: "0.75rem", textAlign: "right" }, children: [e.jsx("button", { onClick: () => W("beneficiary", t), style: { color: "#3b82f6", marginRight: "1rem", background: "none", border: "none", cursor: "pointer" }, children: e.jsx(ne, { size: 14 }) }), e.jsx("button", { onClick: () => oe("beneficiaries", t.id), style: { color: "#ef4444", background: "none", border: "none", cursor: "pointer" }, children: e.jsx(K, { size: 14 }) })] })] }, t.id)) })] }) }) : e.jsx("p", { style: { color: "#6b7280", fontStyle: "italic" }, children: "No beneficiaries listed yet." }) }), e.jsx(U, { title: "Sureties (Minimum 2)", icon: e.jsx(Xe, { size: 20 }), onAdd: () => W("surety"), children: ((ge = n.sureties) == null ? void 0 : ge.length) > 0 ? e.jsx("div", { style: { display: "flex", flexDirection: "column", gap: "1.5rem" }, children: n.sureties.map(t => e.jsxs("div", { style: { display: "flex", flexDirection: h ? "column" : "row", gap: "1.5rem", padding: "1.5rem", background: "#f9fafb", borderRadius: "16px", border: "1px solid #e5e7eb", position: "relative" }, children: [e.jsx("div", { style: { width: "120px", height: "120px", borderRadius: "12px", background: "white", display: "flex", alignItems: "center", justifyContent: "center", overflow: "hidden", border: "1px solid #e5e7eb", flexShrink: 0 }, children: t.picture_path ? e.jsx("img", { src: t.picture_path, alt: "Surety", style: { width: "100%", height: "100%", objectFit: "cover" } }) : e.jsxs("div", { style: { textAlign: "center", padding: "10px" }, children: [e.jsx(Z, { size: 30, color: "#9ca3af" }), e.jsx("p", { style: { color: "#ef4444", fontSize: "10px", fontWeight: "bold", marginTop: "4px", lineHeight: "1.2" }, children: "PICTURE IS MANDATORY" })] }) }), e.jsxs("div", { style: { flex: 1, display: "grid", gridTemplateColumns: h ? "1fr" : "repeat(3, 1fr)", gap: "1.25rem" }, children: [e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 2" }, children: [e.jsx("p", { style: { fontSize: "11px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Full Name" }), e.jsx("p", { style: { fontWeight: "700", fontSize: "16px" }, children: t.name })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "11px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Status" }), e.jsx("div", { style: { display: "flex", gap: "5px", flexWrap: "wrap" }, children: e.jsx("span", { style: { fontSize: "11px", padding: "4px 10px", borderRadius: "12px", fontWeight: "600", background: t.acceptance === "accepted" ? "#dcfce7" : t.acceptance === "rejected" ? "#fee2e2" : "#f1f5f9", color: t.acceptance === "accepted" ? "#166534" : t.acceptance === "rejected" ? "#991b1b" : "#778eaeff", display: "inline-block" }, children: t.acceptance ? t.acceptance.charAt(0).toUpperCase() + t.acceptance.slice(1) : "Pending" }) })] }), e.jsxs("div", { children: [e.jsx("p", { style: { fontSize: "11px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Networth" }), e.jsxs("p", { style: { fontWeight: "600", color: "#059669" }, children: ["₦", Number(t.networth).toLocaleString()] })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 2" }, children: [e.jsx("p", { style: { fontSize: "11px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Residential Address" }), e.jsx("p", { style: { fontSize: "14px" }, children: t.address })] }), e.jsxs("div", { style: { gridColumn: h ? "auto" : "span 3" }, children: [e.jsx("p", { style: { fontSize: "11px", color: "#6b7280", textTransform: "uppercase", marginBottom: "4px" }, children: "Remark / Notes" }), e.jsx("p", { style: { fontSize: "13px", color: "#4b5563", fontStyle: "italic" }, children: t.remark || "No additional remarks." })] })] }), (!t.acceptance || t.acceptance !== "Accepted") && e.jsxs("div", { style: { position: "absolute", top: "1rem", right: "1rem", display: "flex", gap: "0.5rem" }, children: [e.jsx("button", { onClick: () => W("surety", t), style: { padding: "0.5rem", background: "white", borderRadius: "8px", border: "1px solid #e5e7eb", color: "#3b82f6", cursor: "pointer" }, children: e.jsx(ne, { size: 14 }) }), e.jsx("button", { onClick: () => oe("sureties", t.id), style: { padding: "0.5rem", background: "white", borderRadius: "8px", border: "1px solid #e5e7eb", color: "#ef4444", cursor: "pointer" }, children: e.jsx(K, { size: 14 }) })] })] }, t.id)) }) : e.jsx("p", { style: { color: "#6b7280", fontStyle: "italic" }, children: "No sureties provided yet." }) }), e.jsx(U, { title: "Estate / Properties", icon: e.jsx(Qe, { size: 20 }), onAdd: () => W("property"), children: ((je = n.properties) == null ? void 0 : je.length) > 0 ? e.jsx("div", { style: { display: "grid", gridTemplateColumns: h ? "1fr" : "repeat(2, 1fr)", gap: "1.25rem" }, children: n.properties.map(t => e.jsxs("div", { style: { padding: "1.25rem", background: "#f9fafb", borderRadius: "16px", border: "1px solid #e5e7eb", position: "relative" }, children: [e.jsxs("div", { style: { position: "absolute", top: "1rem", right: "1rem", display: "flex", gap: "0.5rem" }, children: [e.jsx("button", { onClick: () => W("property", t), style: { color: "#3b82f6", background: "white", border: "1px solid #e5e7eb", borderRadius: "8px", padding: "6px" }, children: e.jsx(ne, { size: 14 }) }), e.jsx("button", { onClick: () => oe("properties", t.id), style: { color: "#ef4444", background: "white", border: "1px solid #e5e7eb", borderRadius: "8px", padding: "6px" }, children: e.jsx(K, { size: 14 }) })] }), e.jsx("div", { style: { marginBottom: "1rem" }, children: e.jsx("span", { style: { padding: "4px 10px", borderRadius: "20px", fontSize: "10px", fontWeight: "bold", background: t.estate_type === "Property" ? "#dcfce7" : t.estate_type === "Bank/Pension Account" ? "#eff6ff" : "#fef2f2", color: t.estate_type === "Property" ? "#166534" : t.estate_type === "Bank/Pension Account" ? "#1e40af" : "#991b1b", textTransform: "uppercase" }, children: t.estate_type }) }), t.estate_type === "Property" && e.jsxs(e.Fragment, { children: [e.jsx("p", { style: { fontWeight: "700", fontSize: "16px", marginBottom: "0.25rem" }, children: t.property_name }), e.jsx("p", { style: { fontSize: "13px", color: "#6b7280", marginBottom: "1rem" }, children: t.property_address }), t.property_value !== null && t.property_value !== "" && t.property_value !== void 0 && e.jsxs("div", { style: { display: "flex", justifyContent: "space-between", borderTop: "1px solid #e5e7eb", paddingTop: "0.75rem" }, children: [e.jsx("span", { style: { fontSize: "12px", color: "#6b7280" }, children: "Value:" }), e.jsxs("span", { style: { fontWeight: "600", color: "#059669" }, children: ["₦", Number(t.property_value).toLocaleString()] })] })] }), t.estate_type === "Bank/Pension Account" && e.jsxs(e.Fragment, { children: [e.jsx("p", { style: { fontWeight: "700", fontSize: "16px", marginBottom: "0.25rem" }, children: t.bank_name }), e.jsxs("p", { style: { fontSize: "13px", color: "#6b7280", marginBottom: "0.25rem" }, children: ["Acc Name: ", e.jsx("b", { children: t.bank_account_name })] }), e.jsxs("p", { style: { fontSize: "13px", color: "#6b7280", marginBottom: "1rem" }, children: ["Acc No: ", e.jsx("b", { children: t.bank_account })] }), t.bank_balance !== null && t.bank_balance !== "" && t.bank_balance !== void 0 && e.jsxs("div", { style: { display: "flex", justifyContent: "space-between", borderTop: "1px solid #e5e7eb", paddingTop: "0.75rem" }, children: [e.jsx("span", { style: { fontSize: "12px", color: "#6b7280" }, children: "Balance/Value:" }), e.jsxs("span", { style: { fontWeight: "600", color: "#059669" }, children: ["₦", Number(t.bank_balance).toLocaleString()] })] }), e.jsxs("button", { onClick: () => Oe({ application: n, bankInfo: t }), style: { marginTop: "1rem", width: "100%", padding: "0.6rem", background: "#3b82f6", color: "white", borderRadius: "8px", border: "none", fontSize: "12px", fontWeight: "bold", display: "flex", alignItems: "center", justifyContent: "center", gap: "0.5rem", cursor: "pointer" }, children: [e.jsx(Ce, { size: 14 }), " Download Balance Request Letter"] })] }), t.estate_type === "Share Divident" && e.jsxs(e.Fragment, { children: [e.jsx("p", { style: { fontWeight: "700", fontSize: "16px", marginBottom: "0.25rem" }, children: t.broker_name }), e.jsxs("p", { style: { fontSize: "13px", color: "#6b7280", marginBottom: "0.25rem" }, children: ["Reg Name: ", e.jsx("b", { children: t.broker_account_name })] }), e.jsxs("p", { style: { fontSize: "13px", color: "#6b7280", marginBottom: "1rem" }, children: ["Reg No: ", e.jsx("b", { children: t.broker_account })] }), t.share_value !== null && t.share_value !== "" && t.share_value !== void 0 && e.jsxs("div", { style: { display: "flex", justifyContent: "space-between", borderTop: "1px solid #e5e7eb", paddingTop: "0.75rem" }, children: [e.jsx("span", { style: { fontSize: "12px", color: "#6b7280" }, children: "Market Value:" }), e.jsxs("span", { style: { fontWeight: "600", color: "#059669" }, children: ["₦", Number(t.share_value).toLocaleString()] })] })] }), t.remark && e.jsxs("p", { style: { marginTop: "0.75rem", fontSize: "11px", color: "#94a3b8", fontStyle: "italic" }, children: ["Note: ", t.remark] })] }, t.id)) }) : e.jsx("p", { style: { color: "#6b7280", fontStyle: "italic" }, children: "No estate or property details added yet." }) }), e.jsx(U, { title: "Required Documents", icon: e.jsx(xe, { size: 20 }), onAdd: () => W("new_doc"), children: e.jsx("div", { style: { overflowX: "auto", background: "white", borderRadius: "12px", border: "1px solid #e5e7eb" }, children: e.jsxs("table", { style: { width: "100%", borderCollapse: "collapse", textAlign: "left" }, children: [e.jsx("thead", { children: e.jsxs("tr", { style: { background: "#f9fafb", borderBottom: "1px solid #e5e7eb" }, children: [e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Document Name" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Requirement" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Fee" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Status" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Remarks" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151", textAlign: "right" }, children: "Action" })] }) }), e.jsxs("tbody", { children: [ee.map(t => { var x, j; const i = (x = n.documents) == null ? void 0 : x.find(S => S.document_name === t.document_name); return e.jsxs("tr", { style: { borderBottom: "1px solid #f3f4f6" }, children: [e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontWeight: "600", fontSize: "14px", color: "#111827" }, children: t.document_name }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("span", { style: { fontSize: "11px", fontWeight: "bold", color: t.is_required ? "#ef4444" : "#6b7280", background: t.is_required ? "#fef2f2" : "#f3f4f6", padding: "4px 8px", borderRadius: "4px" }, children: t.is_required ? "REQUIRED" : "OPTIONAL" }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontSize: "13px", fontWeight: "500", color: "#374151" }, children: t.document_fee > 0 ? `₦${t.document_fee.toLocaleString()}` : "Free" }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsxs("div", { style: { display: "flex", flexDirection: "column", gap: "4px" }, children: [e.jsxs("div", { style: { fontSize: "11px", fontWeight: "bold", color: i ? "#059669" : "#9ca3af", display: "flex", alignItems: "center", gap: "6px" }, children: [i ? e.jsx(M, { size: 14 }) : e.jsx(pe, { size: 14 }), i ? "UPLOADED" : "NOT UPLOADED"] }), i && i.document_pay > 0 && e.jsx("div", { style: { fontSize: "10px", fontWeight: "bold", color: i.pay_status === "paid" ? "#059669" : "#ef4444", background: i.pay_status === "paid" ? "#ecfdf5" : "#fef2f2", padding: "2px 6px", borderRadius: "4px", display: "inline-block", width: "fit-content" }, children: (j = i.pay_status) == null ? void 0 : j.toUpperCase() })] }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontSize: "12px", color: "#4b5563", maxWidth: "200px", overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }, title: (i == null ? void 0 : i.remark) || "", children: (i == null ? void 0 : i.remark) || e.jsx("span", { style: { color: "#9ca3af", fontStyle: "italic" }, children: "No remarks" }) }) }), e.jsx("td", { style: { padding: "1rem", textAlign: "right" }, children: e.jsx("div", { style: { display: "flex", gap: "0.5rem", justifyContent: "flex-end", alignItems: "center" }, children: i ? e.jsxs(e.Fragment, { children: [e.jsx("a", { href: `${b.defaults.baseURL.replace("/api", "")}${i.document_path}`, target: "_blank", rel: "noreferrer", style: { color: "#3b82f6", fontSize: "13px", fontWeight: "600", textDecoration: "none", padding: "6px 12px", border: "1px solid #3b82f6", borderRadius: "6px" }, children: "View" }), i.pay_status === "unpaid" && e.jsx("button", { onClick: () => D(i), style: { background: "#27ae60", color: "white", border: "none", padding: "6px 12px", borderRadius: "6px", fontSize: "12px", fontWeight: "bold" }, children: "Pay Fee" }), e.jsx("button", { onClick: () => ye(i.id), disabled: z, title: "Delete Document", style: { background: "#fef2f2", color: "#ef4444", border: "1px solid #fee2e2", padding: "8px", borderRadius: "6px", display: "flex", alignItems: "center" }, children: e.jsx(K, { size: 14 }) })] }) : e.jsxs(e.Fragment, { children: [e.jsx("input", { type: "file", id: `file-${t.id}`, style: { display: "none" }, onChange: S => ue(t.document_name, S.target.files[0]) }), e.jsx("button", { onClick: () => document.getElementById(`file-${t.id}`).click(), disabled: z, style: { background: "#3b82f6", color: "white", border: "none", padding: "8px 16px", borderRadius: "6px", fontSize: "12px", fontWeight: "bold", cursor: "pointer" }, children: "Upload" })] }) }) })] }, t.id) }), (be = n.documents) == null ? void 0 : be.filter(t => !ee.find(i => i.document_name === t.document_name)).map(t => e.jsxs("tr", { style: { borderBottom: "1px solid #f3f4f6" }, children: [e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontWeight: "600", fontSize: "14px", color: "#111827" }, children: t.document_name }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("span", { style: { fontSize: "11px", fontWeight: "bold", color: "#778eaeff", background: "#f1f5f9", padding: "4px 8px", borderRadius: "4px" }, children: "ADDITIONAL" }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsxs("div", { style: { fontSize: "11px", fontWeight: "bold", color: "#059669", display: "flex", alignItems: "center", gap: "6px" }, children: [e.jsx(M, { size: 14 }), " UPLOADED"] }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontSize: "12px", color: "#4b5563", maxWidth: "200px", overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }, title: t.remark || "", children: t.remark || e.jsx("span", { style: { color: "#9ca3af", fontStyle: "italic" }, children: "No remarks" }) }) }), e.jsx("td", { style: { padding: "1rem", textAlign: "right" }, children: e.jsxs("div", { style: { display: "flex", gap: "0.5rem", justifyContent: "flex-end", alignItems: "center" }, children: [e.jsx("a", { href: `${b.defaults.baseURL.replace("/api", "")}${t.document_path}`, target: "_blank", rel: "noreferrer", style: { color: "#3b82f6", fontSize: "13px", fontWeight: "600", textDecoration: "none", padding: "6px 12px", border: "1px solid #3b82f6", borderRadius: "6px" }, children: "View" }), e.jsx("button", { onClick: () => ye(t.id), disabled: z, title: "Delete Document", style: { background: "#fef2f2", color: "#ef4444", border: "1px solid #fee2e2", padding: "8px", borderRadius: "6px" }, children: e.jsx(K, { size: 14 }) })] }) })] }, t.id))] })] }) }) }), e.jsx(U, { title: "Payment History", icon: e.jsx(he, { size: 20 }), children: ((ve = n.payments) == null ? void 0 : ve.length) > 0 ? e.jsx("div", { style: { overflowX: "auto", background: "white", borderRadius: "12px", border: "1px solid #e5e7eb" }, children: e.jsxs("table", { style: { width: "100%", borderCollapse: "collapse", textAlign: "left" }, children: [e.jsx("thead", { children: e.jsxs("tr", { style: { background: "#f9fafb", borderBottom: "1px solid #e5e7eb" }, children: [e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Transaction ID" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Item Details" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Amount" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151" }, children: "Status" }), e.jsx("th", { style: { padding: "1rem", fontSize: "13px", fontWeight: "bold", color: "#374151", textAlign: "right" }, children: "Receipt" })] }) }), e.jsx("tbody", { children: n.payments.map(t => { var i; return e.jsxs("tr", { style: { borderBottom: "1px solid #f3f4f6" }, children: [e.jsxs("td", { style: { padding: "1rem" }, children: [e.jsx("div", { style: { fontWeight: "600", fontSize: "14px", color: "#111827" }, children: t.transaction_id || "N/A" }), e.jsx("div", { style: { fontSize: "11px", color: "#6b7280" }, children: new Date(t.payment_date).toLocaleDateString() })] }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("div", { style: { fontSize: "14px", color: "#374151" }, children: t.item_paid }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsxs("div", { style: { fontWeight: "700", fontSize: "14px", color: "#10b981" }, children: ["₦", Number(t.amount).toLocaleString()] }) }), e.jsx("td", { style: { padding: "1rem" }, children: e.jsx("span", { style: { fontSize: "11px", fontWeight: "bold", padding: "4px 8px", borderRadius: "4px", background: t.payment_status === "completed" ? "#dcfce7" : "#fee2e2", color: t.payment_status === "completed" ? "#166534" : "#991b1b" }, children: (i = t.payment_status) == null ? void 0 : i.toUpperCase() }) }), e.jsx("td", { style: { padding: "1rem", textAlign: "right" }, children: t.payment_status === "completed" && e.jsxs("button", { onClick: () => He({ user: { first_name: n.applicant_first_name, surname: n.applicant_surname, email: n.applicant_email, phone: n.applicant_phone }, payment: t }), style: { background: "none", border: "1px solid #e5e7eb", padding: "6px 12px", borderRadius: "6px", cursor: "pointer", display: "inline-flex", alignItems: "center", gap: "4px", fontSize: "12px", color: "#4b5563" }, children: [e.jsx(Ce, { size: 14 }), " Receipt"] }) })] }, t.id) }) })] }) }) : e.jsx("p", { style: { color: "#6b7280", fontStyle: "italic" }, children: "No payment records found for this application." }) }), ie && e.jsx(q, { title: "Error Message", onClose: () => Q(!1), onSave: t => { t.preventDefault(), Q(!1) }, children: e.jsxs("div", { style: { textAlign: "center", padding: "1rem" }, children: [e.jsx("div", { style: { color: "#ef4444", marginBottom: "1rem" }, children: e.jsx(ae, { size: 48, style: { margin: "0 auto" } }) }), e.jsx("p", { style: { fontSize: "16px", color: "#374151", marginBottom: "1.5rem" }, children: F })] }) }), se && e.jsx(q, { title: "Confirm Deletion", onClose: () => G(!1), onSave: t => { t.preventDefault(), Ie() }, children: e.jsxs("div", { style: { textAlign: "center", padding: "1rem" }, children: [e.jsx("div", { style: { color: "#ef4444", marginBottom: "1rem" }, children: e.jsx(K, { size: 48, style: { margin: "0 auto" } }) }), e.jsx("p", { style: { fontSize: "18px", fontWeight: "bold", color: "#111827", marginBottom: "0.5rem" }, children: "Delete Document?" }), e.jsx("p", { style: { fontSize: "14px", color: "#6b7280", marginBottom: "1.5rem" }, children: "Are you sure you want to delete this document? This action cannot be undone and the file will be permanently removed from our servers." })] }) }), e.jsxs(Le, { children: [y === "deceased" && e.jsx(q, { title: "Edit Deceased Details", saving: z, onClose: () => u(null), onSave: Fe, children: e.jsxs("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Deceased Name" }), e.jsx("input", { type: "text", value: r.deceased_name || "", onChange: t => o({ ...r, deceased_name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Date of Death" }), e.jsx("input", { type: "date", value: r.date_of_death || "", onChange: t => o({ ...r, date_of_death: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Occupation" }), e.jsx("input", { type: "text", value: r.occupation || "", onChange: t => o({ ...r, occupation: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Employer Name" }), e.jsx("input", { type: "text", value: r.employer_name || "", onChange: t => o({ ...r, employer_name: t.target.value }), style: c })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Employer Address" }), e.jsx("input", { type: "text", value: r.employer_address || "", onChange: t => o({ ...r, employer_address: t.target.value }), style: c })] }), e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Home Address" }), e.jsx("textarea", { value: r.home_address || "", onChange: t => o({ ...r, home_address: t.target.value }), style: c, rows: 2, required: !0 })] }), e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Death Location Address" }), e.jsx("textarea", { value: r.death_location_address || "", onChange: t => o({ ...r, death_location_address: t.target.value }), style: c, rows: 2, required: !0 })] }), e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Relationship to Applicant" }), e.jsx("input", { type: "text", value: r.relationship_to_nok || "", onChange: t => o({ ...r, relationship_to_nok: t.target.value }), style: c, required: !0 })] })] }) }), y === "beneficiary" && e.jsx(q, { title: f ? "Edit Beneficiary" : "Add Beneficiary", saving: z, onClose: () => u(null), onSave: t => le("beneficiaries", t), children: e.jsxs("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Full Name" }), e.jsx("input", { type: "text", value: r.name || "", onChange: t => o({ ...r, name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Relationship" }), e.jsxs("select", { value: r.relationship || "", onChange: t => o({ ...r, relationship: t.target.value }), style: c, required: !0, children: [e.jsx("option", { value: "", children: "Select..." }), ["Son", "Daughter", "Husband", "Wife", "Father", "Mother", "Brother", "Sister", "GrandParent", "Others"].map(t => e.jsx("option", { value: t, children: t }, t))] })] }), e.jsxs("div", { style: { display: "flex", gap: "1rem" }, children: [e.jsxs("div", { style: { flex: 1 }, children: [e.jsx("label", { style: d, children: "Age" }), e.jsx("input", { type: "number", value: r.age || "", onChange: t => o({ ...r, age: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { style: { flex: 1 }, children: [e.jsx("label", { style: d, children: "Gender" }), e.jsxs("select", { value: r.gender || "", onChange: t => o({ ...r, gender: t.target.value }), style: c, required: !0, children: [e.jsx("option", { value: "", children: "Select..." }), e.jsx("option", { value: "Male", children: "Male" }), e.jsx("option", { value: "Female", children: "Female" })] })] })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Phone Number" }), e.jsx("input", { type: "tel", value: r.phone || "", onChange: t => o({ ...r, phone: t.target.value }), style: c })] }), e.jsxs("div", { style: { gridColumn: "span 2" }, children: [e.jsx("label", { style: d, children: "Home Address" }), e.jsx("textarea", { value: r.address || "", onChange: t => o({ ...r, address: t.target.value }), style: c, rows: 2 })] })] }) }), y === "surety" && e.jsx(q, { title: f ? "Edit Surety" : "Add Surety", saving: z, onClose: () => u(null), onSave: t => le("sureties", t), children: e.jsxs("div", { style: { display: "flex", flexDirection: "column", gap: "1rem" }, children: [e.jsxs("div", { style: { display: "flex", gap: "1rem", alignItems: "center", marginBottom: "1rem" }, children: [e.jsx("div", { style: { width: "120px", height: "120px", borderRadius: "12px", background: "#f3f4f6", display: "flex", alignItems: "center", justifyContent: "center", overflow: "hidden", border: "1px solid #e5e7eb" }, children: r.picture ? e.jsx("img", { src: URL.createObjectURL(r.picture), alt: "Preview", style: { width: "100%", height: "100%", objectFit: "cover" } }) : f != null && f.picture_path ? e.jsx("img", { src: f.picture_path, alt: "Current", style: { width: "100%", height: "100%", objectFit: "cover" } }) : e.jsx(Z, { size: 50, color: "#9ca3af" }) }), e.jsx("div", { style: { flex: 1 }, children: e.jsxs("button", { type: "button", onClick: () => B(!0), style: { fontSize: "12px", color: "#3b82f6", background: "none", border: "none", cursor: "pointer", fontWeight: "bold", display: "flex", alignItems: "center", gap: "4px" }, children: [e.jsx(Camera, { size: 14 }), " ", r.picture || f != null && f.picture_path ? "Change Photo" : "Take/Upload Photo"] }) })] }), J && e.jsx(Be, { onClose: () => B(!1), onImageCaptured: t => o({ ...r, picture: t }), title: "Surety Photo" }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Full Name" }), e.jsx("input", { type: "text", value: r.name || "", onChange: t => o({ ...r, name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Networth (₦)" }), e.jsx("input", { type: "number", value: r.networth || "", onChange: t => o({ ...r, networth: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Address" }), e.jsx("textarea", { value: r.address || "", onChange: t => o({ ...r, address: t.target.value }), style: c, rows: 2, required: !0 })] })] }) }), y === "property" && e.jsx(q, { title: f ? "Edit Estate Item" : "Add Estate Item", saving: z, onClose: () => u(null), onSave: t => le("properties", t), children: e.jsxs("div", { style: { display: "flex", flexDirection: "column", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Estate Type" }), e.jsxs("select", { value: r.estate_type || "", onChange: t => o({ ...r, estate_type: t.target.value }), style: c, required: !0, children: [e.jsx("option", { value: "", children: "Select Type..." }), e.jsx("option", { value: "Property", children: "Property (Land/House)" }), e.jsx("option", { value: "Bank/Pension Account", children: "Bank / Pension Account" }), e.jsx("option", { value: "Share Divident", children: "Share / Dividend" })] })] }), r.estate_type === "Property" && e.jsxs(e.Fragment, { children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Property Name / Title" }), e.jsx("input", { type: "text", value: r.property_name || "", onChange: t => o({ ...r, property_name: t.target.value }), style: c, placeholder: "e.g. 4 Bedroom Bungalow", required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Property Address / Location" }), e.jsx("textarea", { value: r.property_address || "", onChange: t => o({ ...r, property_address: t.target.value }), style: c, rows: 2, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Estimated Market Value (₦)" }), e.jsx("input", { type: "number", value: r.property_value || "", onChange: t => o({ ...r, property_value: t.target.value }), style: c })] })] }), r.estate_type === "Bank/Pension Account" && e.jsxs(e.Fragment, { children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Bank / Institution Name" }), e.jsx("input", { type: "text", value: r.bank_name || "", onChange: t => o({ ...r, bank_name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Account Name" }), e.jsx("input", { type: "text", value: r.bank_account_name || "", onChange: t => o({ ...r, bank_account_name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Account Number" }), e.jsx("input", { type: "text", value: r.bank_account || "", onChange: t => o({ ...r, bank_account: t.target.value }), style: c, required: !0 })] })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Current Balance / Value (₦)" }), e.jsx("input", { type: "number", value: r.bank_balance || "", onChange: t => o({ ...r, bank_balance: t.target.value }), style: c })] })] }), r.estate_type === "Share Divident" && e.jsxs(e.Fragment, { children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Company / Broker Name" }), e.jsx("input", { type: "text", value: r.broker_name || "", onChange: t => o({ ...r, broker_name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Shareholder Name" }), e.jsx("input", { type: "text", value: r.broker_account_name || "", onChange: t => o({ ...r, broker_account_name: t.target.value }), style: c, required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Registration / CHN No." }), e.jsx("input", { type: "text", value: r.broker_account || "", onChange: t => o({ ...r, broker_account: t.target.value }), style: c, required: !0 })] })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Estimated Market Value (₦)" }), e.jsx("input", { type: "number", value: r.share_value || "", onChange: t => o({ ...r, share_value: t.target.value }), style: c })] })] }), r.estate_type && e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Additional Remarks" }), e.jsx("textarea", { value: r.remark || "", onChange: t => o({ ...r, remark: t.target.value }), style: c, rows: 2 })] })] }) }), y === "new_doc" && e.jsx(q, { title: "Add Additional Document", saving: z, onClose: () => u(null), onSave: t => { if (t.preventDefault(), !r.docName || !r.file) { alert("Please provide both name and file"); return } ue(r.docName, r.file) }, children: e.jsxs("div", { style: { display: "flex", flexDirection: "column", gap: "1rem" }, children: [e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Document Name / Type" }), e.jsx("input", { type: "text", value: r.docName || "", onChange: t => o({ ...r, docName: t.target.value }), style: c, placeholder: "e.g. Affidavit of Means, Search Report...", required: !0 })] }), e.jsxs("div", { children: [e.jsx("label", { style: d, children: "Select File" }), e.jsx("input", { type: "file", onChange: t => o({ ...r, file: t.target.files[0] }), style: { ...c, border: "none", paddingLeft: 0 }, required: !0 })] })] }) }), w && e.jsx(P.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, style: { position: "fixed", inset: 0, background: "rgba(0,0,0,0.7)", zIndex: 1e3, display: "flex", alignItems: "center", justifyContent: "center", padding: "1rem" }, children: e.jsxs(P.div, { initial: { scale: .9, opacity: 0 }, animate: { scale: 1, opacity: 1 }, exit: { scale: .9, opacity: 0 }, style: { background: "#0f172a", padding: "2rem", borderRadius: "24px", maxWidth: "500px", width: "100%", position: "relative", color: "white", border: "1px solid #334155" }, children: [e.jsx("button", { onClick: () => D(null), style: { position: "absolute", top: "1rem", right: "1rem", background: "none", border: "none", color: "#94a3b8", cursor: "pointer" }, children: e.jsx(Re, { size: 24 }) }), e.jsxs("div", { style: { textAlign: "center", marginBottom: "2rem" }, children: [e.jsx("div", { style: { width: "60px", height: "60px", background: "rgba(46, 204, 113, 0.1)", borderRadius: "50%", display: "flex", alignItems: "center", justifyContent: "center", margin: "0 auto 1.5rem" }, children: e.jsx(he, { size: 30, color: "#2ecc71" }) }), e.jsx("h3", { style: { fontSize: "1.5rem", fontWeight: "bold" }, children: "Document Fee" }), e.jsx("p", { style: { color: "#94a3b8", marginTop: "0.5rem" }, children: w.document_name })] }), e.jsxs("div", { style: { margin: "2rem 0", textAlign: "center" }, children: [e.jsx("span", { style: { fontSize: "1.25rem", color: "#94a3b8", verticalAlign: "top", marginTop: "4px", display: "inline-block" }, children: "₦" }), e.jsx("span", { style: { fontSize: "3rem", fontWeight: "800", color: "#2ecc71" }, children: (Se = w.document_pay) == null ? void 0 : Se.toLocaleString() })] }), e.jsx(Pe, { amount: w.document_pay, user: C, itemDescription: `Probate Document Fee: ${w.document_name}`, onSuccess: We, onCancel: () => D(null) })] }) })] })] }) }, d = { fontSize: "12px", color: "#6b7280", display: "block", marginBottom: "4px" }, c = { width: "100%", padding: "0.75rem", borderRadius: "8px", border: "1px solid #e5e7eb", outline: "none" }; export { xt as P, pt as a, ct as b };
